<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tools for Downloading and Analyzing HEMA Ratings Data • HEMAscRaper</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tools for Downloading and Analyzing HEMA Ratings Data">
<meta property="og:description" content='Provides tools to download data from the HEMA Ratings website, including information on fighters, clubs, events, and tournament results. Includes functionality for calculating HEMA communities or "islands" using network graph analysis.'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">HEMAscRaper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="hemascraper">HEMAscRaper<a class="anchor" aria-label="anchor" href="#hemascraper"></a>
</h1></div>
<p><code>HEMAscRaper</code> is an R package that provides tools to work with Historical European Martial Arts (HEMA) data. It includes preloaded datasets, functions to refresh data from the HEMA Ratings website, and utilities to calculate and visualize communities in the HEMA ecosystem.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the development version of the package, use:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install devtools if not already installed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install HEMAscRaper from your GitHub repository</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"giannettig/HEMAscRaper"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="available-datasets">Available Datasets<a class="anchor" aria-label="anchor" href="#available-datasets"></a>
</h2>
<p>The package comes with several preloaded datasets that are essential for HEMA analysis. These datasets can be accessed directly within R using the <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> function:</p>
<div class="section level3">
<h3 id="datasets-overview">Datasets Overview<a class="anchor" aria-label="anchor" href="#datasets-overview"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>hema_clubs</strong>: Contains information about HEMA clubs, such as names and locations.</li>
<li>
<strong>hema_countries</strong>: Provides country-level data related to HEMA, communities are calculated for Longsword up to 2024</li>
<li>
<strong>hema_events</strong>: Includes details about tournaments and events (e.g., names, dates, locations).</li>
<li>
<strong>hema_fighters</strong>: Contains detailed information about individual fighters.</li>
<li>
<strong>hema_fights</strong>: Captures match-level data with fight results.</li>
<li>
<strong>hema_match_results</strong>: Summarized match results, including competitors, scores, and outcomes.</li>
<li>
<strong>hema_tournaments</strong>: High-level tournament data, including names, dates, and participants.</li>
<li>
<strong>hema_achievements</strong>: Individual fencer achievements.</li>
</ol>
</div>
<div class="section level3">
<h3 id="example-loading-a-dataset">Example: Loading a Dataset<a class="anchor" aria-label="anchor" href="#example-loading-a-dataset"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the hema_clubs dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"hema_clubs"</span>, package <span class="op">=</span> <span class="st">"HEMAscRaper"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">hema_clubs</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="refreshing-datasets">Refreshing Datasets<a class="anchor" aria-label="anchor" href="#refreshing-datasets"></a>
</h2>
<p>To ensure you have the latest HEMA Ratings data, use the <code><a href="reference/refresh_hema_data.html">refresh_hema_data()</a></code> function. This function allows you to perform a full or incremental update of the datasets.</p>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/refresh_hema_data.html">refresh_hema_data</a></span><span class="op">(</span>incremental <span class="op">=</span> <span class="cn">TRUE</span>, path <span class="op">=</span> <span class="st">"./hema_ratings"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h3>
<ul>
<li>
<strong>incremental</strong>: If <code>TRUE</code>, performs an incremental update for the fights dataset. If <code>FALSE</code>, downloads the entire fights dataset.</li>
<li>
<strong>path</strong>: Directory where the updated CSV files will be saved. Default is <code>"./hema_ratings"</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="example-full-update">Example: Full Update<a class="anchor" aria-label="anchor" href="#example-full-update"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Perform a full update and save results in the "./hema_ratings" directory</span></span>
<span><span class="fu"><a href="reference/refresh_hema_data.html">refresh_hema_data</a></span><span class="op">(</span>incremental <span class="op">=</span> <span class="cn">FALSE</span>, path <span class="op">=</span> <span class="st">"./hema_ratings"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="calculating-and-visualizing-communities">Calculating and Visualizing Communities<a class="anchor" aria-label="anchor" href="#calculating-and-visualizing-communities"></a>
</h2>
<p>The package includes tools to calculate HEMA communities or “islands” based on relationships between fighters, clubs, or tournaments. These are generated using the <code><a href="reference/generate_communities_graph.html">generate_communities_graph()</a></code> function and visualized with <code><a href="reference/visualize_communities.html">visualize_communities()</a></code>.</p>
<div class="section level3">
<h3 id="generating-communities">Generating Communities<a class="anchor" aria-label="anchor" href="#generating-communities"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">hema_match_results</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"hema_match_results.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"hema_match_results.csv"</span><span class="op">)</span>, show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu">HEMAscRaper</span><span class="fu">::</span><span class="va"><a href="reference/hema_match_results.html">hema_match_results</a></span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">hema_clubs</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"hema_clubs.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"hema_clubs.csv"</span><span class="op">)</span>, show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu">HEMAscRaper</span><span class="fu">::</span><span class="va"><a href="reference/hema_clubs.html">hema_clubs</a></span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">hema_events</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"hema_events.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"hema_events.csv"</span><span class="op">)</span>, show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu">HEMAscRaper</span><span class="fu">::</span><span class="va"><a href="reference/hema_events.html">hema_events</a></span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/generate_communities_graph.html">generate_communities_graph</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2024</span>,</span>
<span>  tournament_weapon <span class="op">=</span> <span class="st">"Steel Longsword"</span>,</span>
<span>  weight_threshold <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  population_threshold <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  <span class="va">hema_clubs</span>,</span>
<span>  <span class="va">hema_events</span>,</span>
<span>  <span class="va">hema_match_results</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View filtered nodes</span></span>
<span><span class="va">graph</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tidygraph</span><span class="fu">::</span><span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/activate.html" class="external-link">activate</a></span><span class="op">(</span><span class="va">nodes</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualizing-communities">Visualizing Communities<a class="anchor" aria-label="anchor" href="#visualizing-communities"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">viz</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/visualize_communities.html">visualize_communities</a></span><span class="op">(</span><span class="va">graph</span>, show_labels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">viz</span><span class="op">)</span></span></code></pre></div>
<figure><img src="man/img/Rplot.png" alt="HEMA Communities, Longsword 2024"><figcaption aria-hidden="true">
HEMA Communities, Longsword 2024
</figcaption></figure>
</div>
<div class="section level3">
<h3 id="example-parameters">Example Parameters<a class="anchor" aria-label="anchor" href="#example-parameters"></a>
</h3>
<ul>
<li>
<strong>year</strong>: Specify a single year or a range of years (e.g., <code>c(2023, 2024)</code>).</li>
<li>
<strong>tournament_weapon</strong>: Filter by specific weapons (e.g., <code>"Steel Longsword"</code>).</li>
<li>
<strong>weight_threshold</strong>: Minimum edge weight to include in the graph.</li>
<li>
<strong>population_threshold</strong>: Minimum node population size to include in the graph.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="contribution">Contribution<a class="anchor" aria-label="anchor" href="#contribution"></a>
</h2>
<p>Contributions are welcome! If you’d like to contribute, fork the repository, make your changes, and submit a pull request.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This package is distributed under the GPL-3 License.</p>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>The package relies on the following libraries: - <code>tidygraph</code> for graph representation and manipulation. - <code>ggraph</code> for visualization. - <code>dplyr</code> and <code>tibble</code> for data manipulation. - <code>stringr</code> for string handling.</p>
<p>We appreciate the support of the HEMA community in providing data for analysis and research.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing HEMAscRaper</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Giuliano Giannetti <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Giuliano Giannetti.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
