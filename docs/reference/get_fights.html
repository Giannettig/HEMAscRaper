<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Download and Extract HEMA Fights Data by Year — get_fights • HEMAscRaper</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Download and Extract HEMA Fights Data by Year — get_fights"><meta property="og:description" content="This function downloads data from the *HEMA Ratings* website and extracts detailed fight statistics
for events that occurred within a specified year or set of years. If no year is specified, the function
gathers fight data for all available events."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">HEMAscRaper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download and Extract HEMA Fights Data by Year</h1>

    <div class="hidden name"><code>get_fights.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function downloads data from the *HEMA Ratings* website and extracts detailed fight statistics
for events that occurred within a specified year or set of years. If no year is specified, the function
gathers fight data for all available events.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_fights</span><span class="op">(</span>year <span class="op">=</span> <span class="cn">NULL</span>, raw <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>An optional vector of years (as integers) to filter the events. If `NULL`, data for all available years is fetched. Defaults to `NULL`.</p></dd>


<dt id="arg-raw">raw<a class="anchor" aria-label="anchor" href="#arg-raw"></a></dt>
<dd><p>Logical. If `TRUE`, returns the raw, unprocessed data as scraped from the website.
If `FALSE` (default), the data is normalized for consistency (e.g., names, categories, and stages).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A tibble containing detailed fight statistics for the specified events with columns that may include:</p><dl><dt><code>event_id</code></dt>
<dd><p>Unique identifier of the event. Integer.</p></dd>

  <dt><code>event_name</code></dt>
<dd><p>Name of the event. Character.</p></dd>

  <dt><code>tournament_name</code></dt>
<dd><p>Name of the specific tournament or discipline within the event. Character.</p></dd>

  <dt><code>tournament_category</code></dt>
<dd><p>Category of the tournament (e.g., Mixed, Men's, Women's, Underrepresented Genders). Character.</p></dd>

  <dt><code>event_weapon</code></dt>
<dd><p>Weapon used in the tournament (e.g., Longsword, Rapier). Character.</p></dd>

  <dt><code>fighter_id</code></dt>
<dd><p>Unique identifier of the first fighter in a match. Integer.</p></dd>

  <dt><code>opponent_id</code></dt>
<dd><p>Unique identifier of the opponent fighter in a match. Integer.</p></dd>

  <dt><code>fighter_score</code></dt>
<dd><p>Score of the first fighter. Integer.</p></dd>

  <dt><code>opponent_score</code></dt>
<dd><p>Score of the opponent fighter. Integer.</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function scrapes the HEMA Ratings events page and compiles a list of all fights for the specified years.
If no `year` is provided, it extracts fight data for all events available on the website. For each event, it calls
the `.get_tournament()` function to gather detailed fight-level information.</p>
<p>When the `raw` parameter is set to `FALSE`, the function normalizes data for consistency, ensuring uniformity
in names, categories, and other attributes. Missing data (e.g., anonymized fighters) is handled appropriately.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The function uses `rvest` for HTML parsing and `purrr` for handling multiple event pages. It performs basic error handling
to check if events matching the specified years are available. Depending on the number of events and the size of the tournament data,
the function may take some time to run.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Download all HEMA fight data for the year 2022</span></span></span>
<span class="r-in"><span><span class="va">fights_2022</span> <span class="op">&lt;-</span> <span class="fu">get_fights</span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download HEMA fight data for multiple years (e.g., 2019 and 2020)</span></span></span>
<span class="r-in"><span><span class="va">fights_2019_2020</span> <span class="op">&lt;-</span> <span class="fu">get_fights</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2019</span>, <span class="fl">2020</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download HEMA fight data for all available years</span></span></span>
<span class="r-in"><span><span class="va">all_fights</span> <span class="op">&lt;-</span> <span class="fu">get_fights</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download raw fight data for 2022 without normalization</span></span></span>
<span class="r-in"><span><span class="va">raw_fights_2022</span> <span class="op">&lt;-</span> <span class="fu">get_fights</span><span class="op">(</span><span class="fl">2022</span>, raw <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Giuliano Giannetti.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

